<!DOCTYPE html>
<html lang="en">
<head>
<!-- HTML header for doxygen 1.8.18 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Multi-Channel Object Detection Yolov3 C++ Demo - OpenVINO™ Toolkit</title>
<!-- <script type="text/javascript" src="jquery.js?v=405cebc51c254c8b400f2a138dc8f9b3"></script> -->
<!-- JQuery 2.2.4 -->
<script src="jquery-2.2.4.min.js?v=405cebc51c254c8b400f2a138dc8f9b3"></script>
<script type="text/javascript" src="dynsections.js?v=405cebc51c254c8b400f2a138dc8f9b3"></script>
<!-- Bootstrap 4.4.1 -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet"
    type="text/css" />
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js?v=405cebc51c254c8b400f2a138dc8f9b3"
    type="text/javascript"></script>
<!--  -->
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="/assets/versions_raw.js?v=405cebc51c254c8b400f2a138dc8f9b3"></script>
<script type="text/javascript" src="/assets/openvino-versions_2.js?v=405cebc51c254c8b400f2a138dc8f9b3"></script>
<script type="text/javascript" src="openvino-layout.js?v=405cebc51c254c8b400f2a138dc8f9b3"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.6.2/viewer.css" integrity="sha512-Fd7AWkSYX3RBadbJlBrETnOyX5tkcQu2oN+nO11c+kewdhPlNWQ1Hj83W3hN1odgyh+k7rpvvv7IxZq9bRomCg==" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.6.2/viewer.min.js?v=405cebc51c254c8b400f2a138dc8f9b3" integrity="sha512-VzJLwaOOYyQemqxRypvwosaCDSQzOGqmBFRrKuoOv7rF2DZPlTaamK1zadh7i2FRmmpdUPAE/VBkCwq2HKPSEQ==" crossorigin="anonymous"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectalign">
   <div id="projectname">
     <a href="<domain_placeholder>" class="homelink-id">
       <img src="/assets/images/int-openvino-wht.svg" alt="OpenVINO™ Toolkit">
       <p>Documentation</p>
      </a>
    </div>
  </div>
</div>
<div id="secondnav">
    <div id="versionsSelector" class="nav-placeholder"></div>
    <div id="download-link" class="nav-placeholder"></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js?v=be771e6d3b47d3e8b7f9ce6a7ab6b839"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Multi-Channel Object Detection Yolov3 C++ Demo </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This demo provides an inference pipeline for multi-channel yolo v3. The demo uses Yolo v3 Object Detection network. You can follow <a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_prepare_model_convert_model_tf_specific_Convert_YOLO_From_Tensorflow.html">this</a> page convert the YOLO V3 and tiny YOLO V3 into IR model and execute this demo with converted IR model.</p>
<blockquote class="doxtable">
<p><b>NOTES</b>: If you don't use <a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_prepare_model_convert_model_tf_specific_Convert_YOLO_From_Tensorflow.html">this</a> page to convert the model, it may not work. </p>
</blockquote>
<p>Other demo objectives are:</p>
<ul>
<li>Up to 16 cameras as inputs, via OpenCV*</li>
<li>Visualization of detected objects from all channels on a single screen</li>
</ul>
<h2>How It Works</h2>
<p>On the start-up, the application reads command line parameters and loads the specified networks. The Yolo v3 Object Detection network is required.</p>
<blockquote class="doxtable">
<p><b>NOTES</b>:</p><ul>
<li>By default, Open Model Zoo demos expect input with BGR channels order. If you trained your model to work with RGB order, you need to manually rearrange the default channels order in the demo application or reconvert your model using the Model Optimizer tool with <code>--reverse_input_channels</code> argument specified. For more information about the argument, refer to <b>When to Reverse Input Channels</b> section of <a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_prepare_model_convert_model_Converting_Model_General.html">Converting a Model Using General Conversion Parameters</a>. </li>
</ul>
</blockquote>
<h2>Running</h2>
<p>Running the application with the <code>-h</code> option yields the following usage message: </p><div class="fragment"><div class="line">./multi_channel_object_detection_demo_yolov3 -h</div>
<div class="line"> </div>
<div class="line">multi_channel_object_detection_demo_yolov3 [OPTION]</div>
<div class="line">Options:</div>
<div class="line"> </div>
<div class="line">    -h                           Print a usage message</div>
<div class="line">    -i                           Required. A comma separated list of inputs to process. Each input must be a single image, a folder of images or anything that cv::VideoCapture can process.</div>
<div class="line">    -loop                        Optional. Enable reading the inputs in a loop.</div>
<div class="line">    -duplicate_num               Optional. Multiply the inputs by the given factor. For example, if only one input is provided, but -ni is set to 2, the demo uses half of images from the input as it was the first input and another half goes as the second input.</div>
<div class="line">    -m &quot;&lt;path&gt;&quot;                  Required. Path to an .xml file with a trained model.</div>
<div class="line">      -l &quot;&lt;absolute_path&gt;&quot;       Required for CPU custom layers. Absolute path to a shared library with the kernel implementations</div>
<div class="line">          Or</div>
<div class="line">      -c &quot;&lt;absolute_path&gt;&quot;       Required for GPU custom kernels. Absolute path to an .xml file with the kernel descriptions</div>
<div class="line">    -d &quot;&lt;device&gt;&quot;                Optional. Specify the target device for a network (the list of available devices is shown below). Default value is CPU. Use &quot;-d HETERO:&lt;comma-separated_devices_list&gt;&quot; format to specify HETERO plugin. The demo looks for a suitable plugin for a specified device.</div>
<div class="line">    -bs                          Optional. Batch size for processing (the number of frames processed per infer request)</div>
<div class="line">    -nireq                       Optional. Number of infer requests</div>
<div class="line">    -n_iqs                       Optional. Frame queue size for input channels</div>
<div class="line">    -fps_sp                      Optional. FPS measurement sampling period between timepoints in msec</div>
<div class="line">    -n_sp                        Optional. Number of sampling periods</div>
<div class="line">    -pc                          Optional. Enable per-layer performance report</div>
<div class="line">    -t                           Optional. Probability threshold for detections</div>
<div class="line">    -no_show                     Optional. Do not show processed video.</div>
<div class="line">    -show_stats                  Optional. Enable statistics report</div>
<div class="line">    -real_input_fps              Optional. Disable input frames caching, for maximum throughput pipeline</div>
<div class="line">    -u                           Optional. List of monitors to show initially.</div>
</div><!-- fragment --><p>To run the demo, you can use public pre-train model and follow <a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_prepare_model_convert_model_tf_specific_Convert_YOLO_From_Tensorflow.html">this</a> page for instruction of how to convert it to IR model.</p>
<blockquote class="doxtable">
<p><b>NOTE</b>: Before running the demo with a trained model, make sure the model is converted to the Inference Engine format (*.xml + *.bin) using the <a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_Deep_Learning_Model_Optimizer_DevGuide.html">Model Optimizer tool</a>. </p>
</blockquote>
<p>For example, to run the demo on FPGA with fallback on CPU, with one single camera, use the following command: </p><div class="fragment"><div class="line">./multi_channel_object_detection_demo_yolov3 -m $PATH_OF_YOLO_V3_MODEL -d HETERO:FPGA,CPU -nc 1</div>
</div><!-- fragment --><p>To run the demo using two recorded video files, use the following command: </p><div class="fragment"><div class="line">./multi_channel_object_detection_demo_yolov3 -m $PATH_OF_YOLO_V3_MODEL -d HDDL -i /path/to/file1 /path/to/file2</div>
</div><!-- fragment --><p>Video files will be processed repeatedly.</p>
<p>To achieve 100% utilization of one Myriad X, the thumb rule is to run 4 infer requests on each Myriad X. Option <code>-nireq 32</code> can be added to above command to use 100% of HDDL-R card. The 32 here is 8 (Myriad X on HDDL-R card) x 4 (infer requests), such as following command:</p>
<div class="fragment"><div class="line">./multi_channel_object_detection_demo_yolov3 -m $PATH_OF_YOLO_V3_MODEL -d HDDL </div>
<div class="line">-i /path/to/file1 /path/to/file2 /path/to/file3 /path/to/file4 -nireq 32</div>
</div><!-- fragment --><p>You can also run the demo on web cameras and video files simultaneously by specifying both parameters: <code>-nc &lt;number of cams&gt; -i &lt;video files sequentially, separated by space&gt;</code>. To run the demo with a single input source(a web camera or a video file), but several channels, specify an additional parameter: <code>-duplicate_num 3</code>. You will see four channels: one real and three duplicated. With several input sources, the <code>-duplicate_num</code> parameter will duplicate each of them.</p>
<h2>Demo Output</h2>
<p>The demo uses OpenCV to display the resulting frames with detections rendered as bounding boxes. On the top of the screen, the demo reports throughput in frames per second. You can also enable more detailed statistics in the output using the <code>-show_stats</code> option while running the demos.</p>
<h2>Input Video Sources</h2>
<p>General parameter for input video source is <code>-i</code>. Use it to specify video files or web cameras as input video sources. You can add the parameter to a sample command line as follows: </p><div class="fragment"><div class="line">-i &lt;file1&gt; &lt;file2&gt;</div>
</div><!-- fragment --><p><code>-nc &lt;nc_value&gt;</code> parameter simplifies usage of multiple web cameras. It connects web cameras with indexes from <code>0</code> to <code>nc_value-1</code>.</p>
<p>To see all available web cameras, run the <code>ls /dev/video*</code> command. You will get output similar to the following:</p>
<div class="fragment"><div class="line">user@user-PC:~ $ ls /dev/video*</div>
<div class="line">/dev/video0  /dev/video1  /dev/video2</div>
</div><!-- fragment --><p>You can use <code>-i</code> option to connect all the three web cameras:</p>
<div class="fragment"><div class="line">-i /dev/video0  /dev/video1  /dev/video2</div>
</div><!-- fragment --><p>Alternatively, you can just set <code>-nc 3</code>, which simplifies application usage.</p>
<p>If your cameras are connected to PC with indexes gap (for example, <code>0,1,3</code>), use the <code>-i</code> parameter.</p>
<p>To connect to IP cameras, use RTSP URIs: </p><div class="fragment"><div class="line">-i rtsp://camera_address_1/ rtsp://camera_address_2/</div>
</div><!-- fragment --><h2>See Also</h2>
<ul>
<li><a class="el" href="omz_demos_README.html">Using Open Model Zoo demos</a></li>
<li><a href="https://docs.openvinotoolkit.org/latest/_docs_MO_DG_Deep_Learning_Model_Optimizer_DevGuide.html">Model Optimizer</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
    <div class="footer">
      <div id="nav-path" class="navpath"></div>
      <div class="footer-content">
        <div class="opt-notice">For more complete information about compiler optimizations, see our 
        <a class="el" href="https://software.intel.com/articles/optimization-notice">Optimization Notice</a>
        </div>
        <div class="footer-row">
          <ul>
            <li><a href="https://software.intel.com/en-us/forums/computer-vision">Support</a></li>
            <li><a href="/<version_placeholder>/openvino_docs_Legal_Information.html">Legal Information</a></li>
            <li><a href="https://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html">Cookies and Similar Technologies Notice</a></li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>